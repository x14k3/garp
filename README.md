# garp
发送免费ARP报文把自己IP地址与Mac地址的映射关系广播给其他主机

常用于双机热备系统的vip切换
假设主用服务器的MAC地址为：1111-1111-1111，备用服务器的MAC地址为：2222-2222-2222，两台服务器共同对外共同使用一个IP，例如10.10.10.1，这样客户机在需要同服务器进行通信的时候，先向局域网发送广播ARP请求报文请求10.10.10.1这个IP地址的MAC地址，得到主用服务器响应后，将10.10.10.1和对应的MAC地址放入自己的ARP缓存中，然后向这个IP发送请求就可以进行通信了。如果在通信的过程中，主用服务器突然发生故障，down机了，这时备用服务器立刻接管10.10.10.1这个IP进行服务，可是刚才那台客户机的ARP缓存表中10.10.10.1这个IP对应的MAC地址是1111-1111-1111，再往这个MAC地址发送数据包肯定是石沉大海的，怎样才能让备用接管了服务之后立刻能起作用呢？

接管的服务器对外广播一个ARP报文给所有主机，ARP广播报文的数据字段中源IP地址是10.10.10.1，源MAC地址是2222-2222-2222，目的IP地址也是10.10.10.1，目的MAC地址也是2222-2222-2222，IP报文的目的地址是：FFFF-FFFF-FFFF，这样让所有的广播网络上的主机接收该报文，并更新自己的ARP缓存表，已告知10.10.10.1这个IP的对应MAC地址已经变为2222-2222-2222，这样，刚才的那个客户机就能正确地同服务器进行通信了。

## 使用说明
`./garp_linux_x86_64 -i eth0 -ip 192.168.1.100 -m "00:11:22:33:44:55"`


参数说明:
  -i string
        网络接口名 (如 eth0)
  -ip string
        源IP地址 (如 192.168.1.100)
  -m string
        源MAC地址 (如 00:11:22:33:44:55)
